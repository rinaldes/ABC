<div id="ribbon"><!-- RIBBON -->
  <ol class="breadcrumb"><!-- breadcrumb -->
    <li>Purchasing</li><li>Receiving</li><li>List</li>
  </ol><!-- end breadcrumb -->
</div><!-- END RIBBON -->
<div id="content"><!-- MAIN CONTENT -->
  <section id="widget-grid" class=""><!-- widget grid -->
    <div class="row"><!-- row -->
      <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><!-- NEW WIDGET START -->
        <div class="jarviswidget" id="wid-id-1" data-widget-editbutton="false"><!-- Widget ID (each widget will need unique ID)-->
          <!-- <header>
            <span class="widget-icon"> <i class="fa fa-list-ul"></i> </span>
            <h2>List Purchase Receipts</h2>
          </header> -->
          <h2 style="color:#BF1E2D; margin-top:-5px;"><i class="fa fa-list-ul"></i> List Purchase Receipts</h2> <!-- header content -->
          <div>
            <div class="widget-body no-padding" style='overflow-y: hidden'><!-- widget content -->
              <%= link_to raw('<span class="btn-label"><i class="glyphicon glyphicon-plus"></i></span>Add Receipt'), new_receiving_path,
              class: "btn btn-labeled btn-primary edit-btn-primary" if current_user.can_manage_receiving? %>
              <table class="table table-striped table-bordered table-hover" width="100%">
                <thead>
                <tr>
                  <th>No</th>
                  <th>
                    Receive No
                    <span style="float: right;">
                      <%= link_to raw('<i class="fa fa-sort-desc"></i>'), 'javascript:void(0)', id: 'code-desc', class: 'sorting hide' %>
                      <%= link_to raw('<i class="fa fa-sort-asc"></i>'), 'javascript:void(0)', id: 'code-asc', class: 'sorting' %>
                    </span>
                  </th>
                  <th>
                    Date
                    <span style="float: right;">
                      <%= link_to raw('<i class="fa fa-sort-desc"></i>'), 'javascript:void(0)', id: 'date-desc', class: 'sorting hide' %>
                      <%= link_to raw('<i class="fa fa-sort-asc"></i>'), 'javascript:void(0)', id: 'date-asc', class: 'sorting' %>
                    </span>
                  </th>
                  <th>
                    Supplier
                    <span style="float: right;">
                      <%= link_to raw('<i class="fa fa-sort-desc"></i>'), 'javascript:void(0)', id: 'supplier_name-desc', class: 'sorting hide' %>
                      <%= link_to raw('<i class="fa fa-sort-asc"></i>'), 'javascript:void(0)', id: 'supplier_name-asc', class: 'sorting' %>
                    </span>
                  </th>
                  <th>
                    PO Number
                    <span style="float: right;">
                      <%= link_to raw('<i class="fa fa-sort-desc"></i>'), 'javascript:void(0)', id: 'po_number-desc', class: 'sorting hide' %>
                      <%= link_to raw('<i class="fa fa-sort-asc"></i>'), 'javascript:void(0)', id: 'po_number-asc', class: 'sorting' %>
                    </span>
                  </th>
                  <th class='nowrap'>
                    Received Qty
                    <%= link_to 'javascript:void(0)', id: 'received_qty-desc', class: 'sorting hide' do %>
                      <i class="fa fa-sort-desc"></i>
                    <% end %>
                    <%= link_to 'javascript:void(0)', id: 'received_qty-asc', class: 'sorting' do %>
                      <i class="fa fa-sort-asc"></i>
                    <% end %>
                  </th>
                  <th class='nowrap'>
                    PO Qty
                    <%= link_to raw('<i class="fa fa-sort-desc"></i>'), 'javascript:void(0)', id: 'purchased_qty-desc', class: 'sorting hide' %>
                    <%= link_to raw('<i class="fa fa-sort-asc"></i>'), 'javascript:void(0)', id: 'purchased_qty-asc', class: 'sorting' %>
                  </th>
                  <th class='nowrap'>
                    Outstanding Qty
                    <%= link_to raw('<i class="fa fa-sort-desc"></i>'), 'javascript:void(0)', id: 'outstanding_qty-desc', class: 'sorting hide' %>
                    <%= link_to raw('<i class="fa fa-sort-asc"></i>'), 'javascript:void(0)', id: 'outstanding_qty-asc', class: 'sorting' %>
                  </th>
                  <th class='nowrap'>
                    Total Cost Price
                    <%= link_to raw('<i class="fa fa-sort-desc"></i>'), 'javascript:void(0)', id: 'total-desc', class: 'sorting hide' %>
                    <%= link_to raw('<i class="fa fa-sort-asc"></i>'), 'javascript:void(0)', id: 'total-asc', class: 'sorting' %>
                  </th>
                  <th>
                    Note
                  <span style="float: right;">
                        <%= link_to raw('<i class="fa fa-sort-desc"></i>'), 'javascript:void(0)', id: 'note-desc', class: 'sorting hide' %>
                        <%= link_to raw('<i class="fa fa-sort-asc"></i>'), 'javascript:void(0)', id: 'note-asc', class: 'sorting' %>
                      </span>
                    </th>
                    <th>
                      Status
                      <span style="float: right;">
                        <%= link_to raw('<i class="fa fa-sort-desc"></i>'), 'javascript:void(0)', id: 'status-desc', class: 'sorting hide' %>
                        <%= link_to raw('<i class="fa fa-sort-asc"></i>'), 'javascript:void(0)', id: 'status-asc', class: 'sorting' %>
                      </span>
                    </th>
                    <% if current_user.can_manage_receiving? %>
                      <th>Action</th>
                    <% end %>
                  </tr>
                  <tr>
                    <th></th>
                    <th class="hasinput"><%= text_field_tag :number, params[:number], class: 'form-control search', name: 'receivings.number' %></th>
                    <th class="hasinput"><%= text_field_tag :date, params[:date], class: 'form-control search', name: "to_char(date, 'DD-MM-YYYY')" %></th>
                    <th class="hasinput"><%= text_field_tag :supplier_name, params[:supplier_name], class: 'form-control search', name: "suppliers.name" %></th>
                    <th class="hasinput"><%= text_field_tag :po_number, params[:supplier_name], class: 'form-control search', name: "purchase_orders.number" %></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th class="hasinput"><%= text_field_tag :note, params[:note], class: 'form-control search' %></th>
                    <th class="hasinput"><%= text_field_tag :status, params[:status], class: 'form-control search', name: 'receivings.status' %></th>
                    <% if current_user.can_manage_receiving? %>
                      <th></th>
                    <% end %>
                  </tr>
                </thead>
                <tbody id='receiving-list'><%= render 'receiving_list' %></tbody>
              </table>
          </div>
        </div><!-- end widget -->
      </article><!-- WIDGET END -->
    </div>	<!-- end row -->
  </section><!-- end widget grid -->
</div>	<!-- end row -->